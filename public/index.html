<!DOCTYPE html>
<html lang="en">

<head>
    <title> Pendle College Welcome Week </title>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="Pendle College welcome week website">

    <!-- Custom stylesheet -->
    <link href="css/style.css" rel="stylesheet">

    <!-- Bootstrap -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">

    <!-- Favicon -->
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="theme-color" content="#ffffff">

    <script>
        function displayTimetable() {
            var xmlhttp = new XMLHttpRequest();
            xmlhttp.onreadystatechange = function() {
                if (this.readyState == 4 && this.status == 200) {
                    var timetableJSON = JSON.parse(this.responseText);
                    console.log(timetableJSON.timetable.events);
                }
            }
            xmlhttp.open("GET", "timetable.json");
            xmlhttp.send();
        }

        function createTimetableCards(numCards) {
            var numRows = Math.ceil(numCards / 6);
            var timetableDiv = document.getElementById("timetable");
            for (let i = 0; i < numRows; i++) {
                var newDiv = document.createElement("div");
                newDiv.id = `row${i+1}`;
                newDiv.className = "d-flex flex-row";
                //timetableDiv.appendChild(newDiv);
                for (let j = 0; j < 6 && numCards > 0; j++) {
                    var newCard = createCard();
                    newDiv.appendChild(newCard);
                    numCards--;
                }
                timetableDiv.appendChild(newDiv);
            }
        }
        function createCard() {
            var newCard = document.createElement("div");
            newCard.className = "card m-3";
            newCard.style = "width: 18rem;";
            var cardBody = document.createElement("div");
            cardBody.className = "card-body";
            var cardTitle = document.createElement("h5");
            cardTitle.className = "card-title";
            cardTitle.textContent = "Title";
            var cardText = document.createElement("p");
            cardText.className = "card-text";
            cardText.textContent = "some text";
            var cardButton = document.createElement("a");
            cardButton.className = "btn btn-primary";
            cardButton.textContent = "See more...";

            cardBody.appendChild(cardTitle);
            cardBody.appendChild(cardText);
            cardBody.appendChild(cardButton);
            newCard.appendChild(cardBody);

            return newCard;
        }
    </script>

</head>

<body onload="displayTimetable()">
    <div>
        <!-- Header -->
        <!-- Pendle logo -->
        <img src="img/pendle-college-logo.svg" alt="Pendle College logo" class="logo">
    </div>

    <div class="d-flex flex-row nav-bar">
        <!-- Nav bar -->
        <a href="#">
            <div class="p-2 nav-item-selected" style="flex: 1;">Welcome Week Schedule</div>
        </a>
        <a href="jcr.html">
            <div class="p-2">Meet the JCR</div>
        </a>
        <a href="#">
            <div class="p-2">Sports</div>
        </a>
        <a href="#">
            <div class="p-2">FAQs and Tips</div>
        </a>
      </div>

    <div>
        <!-- Main body -->
        <h1>Main page</h1>
        <div id="timetable"> </div>
    </div>

    <!-- More bootstrap -->
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
    
    <!-- Firebase -->
    <script src="/__/firebase/8.9.1/firebase-app.js"></script>
    <script src="/__/firebase/8.9.1/firebase-analytics.js"></script>
    <script src="/__/firebase/init.js"></script>

</body>

</html>
